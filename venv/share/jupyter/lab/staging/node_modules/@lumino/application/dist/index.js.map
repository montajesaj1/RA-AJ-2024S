{"version":3,"file":"index.js","sources":["../../algorithm/src/array.ts","../../algorithm/src/range.ts","../../algorithm/src/sort.ts","../../algorithm/src/string.ts","../src/index.ts"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n/**\n * The namespace for array-specific algorithms.\n */\nexport namespace ArrayExt {\n  /**\n   * Find the index of the first occurrence of a value in an array.\n   *\n   * @param array - The array-like object to search.\n   *\n   * @param value - The value to locate in the array. Values are\n   *   compared using strict `===` equality.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the first occurrence of the value, or `-1`\n   *   if the value is not found.\n   *\n   * #### Notes\n   * If `stop < start` the search will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or `stop` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = ['one', 'two', 'three', 'four', 'one'];\n   * ArrayExt.firstIndexOf(data, 'red');        // -1\n   * ArrayExt.firstIndexOf(data, 'one');        // 0\n   * ArrayExt.firstIndexOf(data, 'one', 1);     // 4\n   * ArrayExt.firstIndexOf(data, 'two', 2);     // -1\n   * ArrayExt.firstIndexOf(data, 'two', 2, 1);  // 1\n   * ```\n   */\n  export function firstIndexOf<T>(\n    array: ArrayLike<T>,\n    value: T,\n    start = 0,\n    stop = -1\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return -1;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let span: number;\n    if (stop < start) {\n      span = stop + 1 + (n - start);\n    } else {\n      span = stop - start + 1;\n    }\n    for (let i = 0; i < span; ++i) {\n      let j = (start + i) % n;\n      if (array[j] === value) {\n        return j;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Find the index of the last occurrence of a value in an array.\n   *\n   * @param array - The array-like object to search.\n   *\n   * @param value - The value to locate in the array. Values are\n   *   compared using strict `===` equality.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the last occurrence of the value, or `-1`\n   *   if the value is not found.\n   *\n   * #### Notes\n   * If `start < stop` the search will wrap at the front of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or `stop` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = ['one', 'two', 'three', 'four', 'one'];\n   * ArrayExt.lastIndexOf(data, 'red');        // -1\n   * ArrayExt.lastIndexOf(data, 'one');        // 4\n   * ArrayExt.lastIndexOf(data, 'one', 1);     // 0\n   * ArrayExt.lastIndexOf(data, 'two', 0);     // -1\n   * ArrayExt.lastIndexOf(data, 'two', 0, 1);  // 1\n   * ```\n   */\n  export function lastIndexOf<T>(\n    array: ArrayLike<T>,\n    value: T,\n    start = -1,\n    stop = 0\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return -1;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let span: number;\n    if (start < stop) {\n      span = start + 1 + (n - stop);\n    } else {\n      span = start - stop + 1;\n    }\n    for (let i = 0; i < span; ++i) {\n      let j = (start - i + n) % n;\n      if (array[j] === value) {\n        return j;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Find the index of the first value which matches a predicate.\n   *\n   * @param array - The array-like object to search.\n   *\n   * @param fn - The predicate function to apply to the values.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the first matching value, or `-1` if no\n   *   matching value is found.\n   *\n   * #### Notes\n   * If `stop < start` the search will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or `stop` which is non-integral.\n   *\n   * Modifying the length of the array while searching.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function isEven(value: number): boolean {\n   *   return value % 2 === 0;\n   * }\n   *\n   * let data = [1, 2, 3, 4, 3, 2, 1];\n   * ArrayExt.findFirstIndex(data, isEven);       // 1\n   * ArrayExt.findFirstIndex(data, isEven, 4);    // 5\n   * ArrayExt.findFirstIndex(data, isEven, 6);    // -1\n   * ArrayExt.findFirstIndex(data, isEven, 6, 5); // 1\n   * ```\n   */\n  export function findFirstIndex<T>(\n    array: ArrayLike<T>,\n    fn: (value: T, index: number) => boolean,\n    start = 0,\n    stop = -1\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return -1;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let span: number;\n    if (stop < start) {\n      span = stop + 1 + (n - start);\n    } else {\n      span = stop - start + 1;\n    }\n    for (let i = 0; i < span; ++i) {\n      let j = (start + i) % n;\n      if (fn(array[j], j)) {\n        return j;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Find the index of the last value which matches a predicate.\n   *\n   * @param object - The array-like object to search.\n   *\n   * @param fn - The predicate function to apply to the values.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the last matching value, or `-1` if no\n   *   matching value is found.\n   *\n   * #### Notes\n   * If `start < stop` the search will wrap at the front of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or `stop` which is non-integral.\n   *\n   * Modifying the length of the array while searching.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function isEven(value: number): boolean {\n   *   return value % 2 === 0;\n   * }\n   *\n   * let data = [1, 2, 3, 4, 3, 2, 1];\n   * ArrayExt.findLastIndex(data, isEven);        // 5\n   * ArrayExt.findLastIndex(data, isEven, 4);     // 3\n   * ArrayExt.findLastIndex(data, isEven, 0);     // -1\n   * ArrayExt.findLastIndex(data, isEven, 0, 1);  // 5\n   * ```\n   */\n  export function findLastIndex<T>(\n    array: ArrayLike<T>,\n    fn: (value: T, index: number) => boolean,\n    start = -1,\n    stop = 0\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return -1;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let d: number;\n    if (start < stop) {\n      d = start + 1 + (n - stop);\n    } else {\n      d = start - stop + 1;\n    }\n    for (let i = 0; i < d; ++i) {\n      let j = (start - i + n) % n;\n      if (fn(array[j], j)) {\n        return j;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Find the first value which matches a predicate.\n   *\n   * @param array - The array-like object to search.\n   *\n   * @param fn - The predicate function to apply to the values.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The first matching value, or `undefined` if no matching\n   *   value is found.\n   *\n   * #### Notes\n   * If `stop < start` the search will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or `stop` which is non-integral.\n   *\n   * Modifying the length of the array while searching.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function isEven(value: number): boolean {\n   *   return value % 2 === 0;\n   * }\n   *\n   * let data = [1, 2, 3, 4, 3, 2, 1];\n   * ArrayExt.findFirstValue(data, isEven);       // 2\n   * ArrayExt.findFirstValue(data, isEven, 2);    // 4\n   * ArrayExt.findFirstValue(data, isEven, 6);    // undefined\n   * ArrayExt.findFirstValue(data, isEven, 6, 5); // 2\n   * ```\n   */\n  export function findFirstValue<T>(\n    array: ArrayLike<T>,\n    fn: (value: T, index: number) => boolean,\n    start = 0,\n    stop = -1\n  ): T | undefined {\n    let index = findFirstIndex(array, fn, start, stop);\n    return index !== -1 ? array[index] : undefined;\n  }\n\n  /**\n   * Find the last value which matches a predicate.\n   *\n   * @param object - The array-like object to search.\n   *\n   * @param fn - The predicate function to apply to the values.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The last matching value, or `undefined` if no matching\n   *   value is found.\n   *\n   * #### Notes\n   * If `start < stop` the search will wrap at the front of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or `stop` which is non-integral.\n   *\n   * Modifying the length of the array while searching.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function isEven(value: number): boolean {\n   *   return value % 2 === 0;\n   * }\n   *\n   * let data = [1, 2, 3, 4, 3, 2, 1];\n   * ArrayExt.findLastValue(data, isEven);        // 2\n   * ArrayExt.findLastValue(data, isEven, 4);     // 4\n   * ArrayExt.findLastValue(data, isEven, 0);     // undefined\n   * ArrayExt.findLastValue(data, isEven, 0, 1);  // 2\n   * ```\n   */\n  export function findLastValue<T>(\n    array: ArrayLike<T>,\n    fn: (value: T, index: number) => boolean,\n    start = -1,\n    stop = 0\n  ): T | undefined {\n    let index = findLastIndex(array, fn, start, stop);\n    return index !== -1 ? array[index] : undefined;\n  }\n\n  /**\n   * Find the index of the first element which compares `>=` to a value.\n   *\n   * @param array - The sorted array-like object to search.\n   *\n   * @param value - The value to locate in the array.\n   *\n   * @param fn - The 3-way comparison function to apply to the values.\n   *   It should return `< 0` if an element is less than a value, `0` if\n   *   an element is equal to a value, or `> 0` if an element is greater\n   *   than a value.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the first element which compares `>=` to the\n   *   value, or `length` if there is no such element. If the computed\n   *   index for `stop` is less than `start`, then the computed index\n   *   for `start` is returned.\n   *\n   * #### Notes\n   * The array must already be sorted in ascending order according to\n   * the comparison function.\n   *\n   * #### Complexity\n   * Logarithmic.\n   *\n   * #### Undefined Behavior\n   * Searching a range which is not sorted in ascending order.\n   *\n   * A `start` or `stop` which is non-integral.\n   *\n   * Modifying the length of the array while searching.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function numberCmp(a: number, b: number): number {\n   *   return a - b;\n   * }\n   *\n   * let data = [0, 3, 4, 7, 7, 9];\n   * ArrayExt.lowerBound(data, 0, numberCmp);   // 0\n   * ArrayExt.lowerBound(data, 6, numberCmp);   // 3\n   * ArrayExt.lowerBound(data, 7, numberCmp);   // 3\n   * ArrayExt.lowerBound(data, -1, numberCmp);  // 0\n   * ArrayExt.lowerBound(data, 10, numberCmp);  // 6\n   * ```\n   */\n  export function lowerBound<T, U>(\n    array: ArrayLike<T>,\n    value: U,\n    fn: (element: T, value: U) => number,\n    start = 0,\n    stop = -1\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return 0;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let begin = start;\n    let span = stop - start + 1;\n    while (span > 0) {\n      let half = span >> 1;\n      let middle = begin + half;\n      if (fn(array[middle], value) < 0) {\n        begin = middle + 1;\n        span -= half + 1;\n      } else {\n        span = half;\n      }\n    }\n    return begin;\n  }\n\n  /**\n   * Find the index of the first element which compares `>` than a value.\n   *\n   * @param array - The sorted array-like object to search.\n   *\n   * @param value - The value to locate in the array.\n   *\n   * @param fn - The 3-way comparison function to apply to the values.\n   *   It should return `< 0` if an element is less than a value, `0` if\n   *   an element is equal to a value, or `> 0` if an element is greater\n   *   than a value.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the first element which compares `>` than the\n   *   value, or `length` if there is no such element. If the computed\n   *   index for `stop` is less than `start`, then the computed index\n   *   for `start` is returned.\n   *\n   * #### Notes\n   * The array must already be sorted in ascending order according to\n   * the comparison function.\n   *\n   * #### Complexity\n   * Logarithmic.\n   *\n   * #### Undefined Behavior\n   * Searching a range which is not sorted in ascending order.\n   *\n   * A `start` or `stop` which is non-integral.\n   *\n   * Modifying the length of the array while searching.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function numberCmp(a: number, b: number): number {\n   *   return a - b;\n   * }\n   *\n   * let data = [0, 3, 4, 7, 7, 9];\n   * ArrayExt.upperBound(data, 0, numberCmp);   // 1\n   * ArrayExt.upperBound(data, 6, numberCmp);   // 3\n   * ArrayExt.upperBound(data, 7, numberCmp);   // 5\n   * ArrayExt.upperBound(data, -1, numberCmp);  // 0\n   * ArrayExt.upperBound(data, 10, numberCmp);  // 6\n   * ```\n   */\n  export function upperBound<T, U>(\n    array: ArrayLike<T>,\n    value: U,\n    fn: (element: T, value: U) => number,\n    start = 0,\n    stop = -1\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return 0;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let begin = start;\n    let span = stop - start + 1;\n    while (span > 0) {\n      let half = span >> 1;\n      let middle = begin + half;\n      if (fn(array[middle], value) > 0) {\n        span = half;\n      } else {\n        begin = middle + 1;\n        span -= half + 1;\n      }\n    }\n    return begin;\n  }\n\n  /**\n   * Test whether two arrays are shallowly equal.\n   *\n   * @param a - The first array-like object to compare.\n   *\n   * @param b - The second array-like object to compare.\n   *\n   * @param fn - The comparison function to apply to the elements. It\n   *   should return `true` if the elements are \"equal\". The default\n   *   compares elements using strict `===` equality.\n   *\n   * @returns Whether the two arrays are shallowly equal.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * Modifying the length of the arrays while comparing.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let d1 = [0, 3, 4, 7, 7, 9];\n   * let d2 = [0, 3, 4, 7, 7, 9];\n   * let d3 = [42];\n   * ArrayExt.shallowEqual(d1, d2);  // true\n   * ArrayExt.shallowEqual(d2, d3);  // false\n   * ```\n   */\n  export function shallowEqual<T>(\n    a: ArrayLike<T>,\n    b: ArrayLike<T>,\n    fn?: (a: T, b: T) => boolean\n  ): boolean {\n    // Check for object identity first.\n    if (a === b) {\n      return true;\n    }\n\n    // Bail early if the lengths are different.\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    // Compare each element for equality.\n    for (let i = 0, n = a.length; i < n; ++i) {\n      if (fn ? !fn(a[i], b[i]) : a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    // The array are shallowly equal.\n    return true;\n  }\n\n  /**\n   * Create a slice of an array subject to an optional step.\n   *\n   * @param array - The array-like object of interest.\n   *\n   * @param options - The options for configuring the slice.\n   *\n   * @returns A new array with the specified values.\n   *\n   * @throws An exception if the slice `step` is `0`.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start`, `stop`, or `step` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [0, 3, 4, 7, 7, 9];\n   * ArrayExt.slice(data);                         // [0, 3, 4, 7, 7, 9]\n   * ArrayExt.slice(data, { start: 2 });           // [4, 7, 7, 9]\n   * ArrayExt.slice(data, { start: 0, stop: 4 });  // [0, 3, 4, 7]\n   * ArrayExt.slice(data, { step: 2 });            // [0, 4, 7]\n   * ArrayExt.slice(data, { step: -1 });           // [9, 7, 7, 4, 3, 0]\n   * ```\n   */\n  export function slice<T>(\n    array: ArrayLike<T>,\n    options: slice.IOptions = {}\n  ): T[] {\n    // Extract the options.\n    let { start, stop, step } = options;\n\n    // Set up the `step` value.\n    if (step === undefined) {\n      step = 1;\n    }\n\n    // Validate the step size.\n    if (step === 0) {\n      throw new Error('Slice `step` cannot be zero.');\n    }\n\n    // Look up the length of the array.\n    let n = array.length;\n\n    // Set up the `start` value.\n    if (start === undefined) {\n      start = step < 0 ? n - 1 : 0;\n    } else if (start < 0) {\n      start = Math.max(start + n, step < 0 ? -1 : 0);\n    } else if (start >= n) {\n      start = step < 0 ? n - 1 : n;\n    }\n\n    // Set up the `stop` value.\n    if (stop === undefined) {\n      stop = step < 0 ? -1 : n;\n    } else if (stop < 0) {\n      stop = Math.max(stop + n, step < 0 ? -1 : 0);\n    } else if (stop >= n) {\n      stop = step < 0 ? n - 1 : n;\n    }\n\n    // Compute the slice length.\n    let length;\n    if ((step < 0 && stop >= start) || (step > 0 && start >= stop)) {\n      length = 0;\n    } else if (step < 0) {\n      length = Math.floor((stop - start + 1) / step + 1);\n    } else {\n      length = Math.floor((stop - start - 1) / step + 1);\n    }\n\n    // Compute the sliced result.\n    let result: T[] = [];\n    for (let i = 0; i < length; ++i) {\n      result[i] = array[start + i * step];\n    }\n\n    // Return the result.\n    return result;\n  }\n\n  /**\n   * The namespace for the `slice` function statics.\n   */\n  export namespace slice {\n    /**\n     * The options for the `slice` function.\n     */\n    export interface IOptions {\n      /**\n       * The starting index of the slice, inclusive.\n       *\n       * Negative values are taken as an offset from the end\n       * of the array.\n       *\n       * The default is `0` if `step > 0` else `n - 1`.\n       */\n      start?: number;\n\n      /**\n       * The stopping index of the slice, exclusive.\n       *\n       * Negative values are taken as an offset from the end\n       * of the array.\n       *\n       * The default is `n` if `step > 0` else `-n - 1`.\n       */\n      stop?: number;\n\n      /**\n       * The step value for the slice.\n       *\n       * This must not be `0`.\n       *\n       * The default is `1`.\n       */\n      step?: number;\n    }\n  }\n\n  /**\n   * An array-like object which supports item assignment.\n   */\n  export type MutableArrayLike<T> = {\n    readonly length: number;\n    [index: number]: T;\n  };\n\n  /**\n   * Move an element in an array from one index to another.\n   *\n   * @param array - The mutable array-like object of interest.\n   *\n   * @param fromIndex - The index of the element to move. Negative\n   *   values are taken as an offset from the end of the array.\n   *\n   * @param toIndex - The target index of the element. Negative\n   *   values are taken as an offset from the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `fromIndex` or `toIndex` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from from '@lumino/algorithm';\n   *\n   * let data = [0, 1, 2, 3, 4];\n   * ArrayExt.move(data, 1, 2);  // [0, 2, 1, 3, 4]\n   * ArrayExt.move(data, 4, 2);  // [0, 2, 4, 1, 3]\n   * ```\n   */\n  export function move<T>(\n    array: MutableArrayLike<T>,\n    fromIndex: number,\n    toIndex: number\n  ): void {\n    let n = array.length;\n    if (n <= 1) {\n      return;\n    }\n    if (fromIndex < 0) {\n      fromIndex = Math.max(0, fromIndex + n);\n    } else {\n      fromIndex = Math.min(fromIndex, n - 1);\n    }\n    if (toIndex < 0) {\n      toIndex = Math.max(0, toIndex + n);\n    } else {\n      toIndex = Math.min(toIndex, n - 1);\n    }\n    if (fromIndex === toIndex) {\n      return;\n    }\n    let value = array[fromIndex];\n    let d = fromIndex < toIndex ? 1 : -1;\n    for (let i = fromIndex; i !== toIndex; i += d) {\n      array[i] = array[i + d];\n    }\n    array[toIndex] = value;\n  }\n\n  /**\n   * Reverse an array in-place.\n   *\n   * @param array - The mutable array-like object of interest.\n   *\n   * @param start - The index of the first element in the range to be\n   *   reversed, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   reversed, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or  `stop` index which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [0, 1, 2, 3, 4];\n   * ArrayExt.reverse(data, 1, 3);  // [0, 3, 2, 1, 4]\n   * ArrayExt.reverse(data, 3);     // [0, 3, 2, 4, 1]\n   * ArrayExt.reverse(data);        // [1, 4, 2, 3, 0]\n   * ```\n   */\n  export function reverse<T>(\n    array: MutableArrayLike<T>,\n    start = 0,\n    stop = -1\n  ): void {\n    let n = array.length;\n    if (n <= 1) {\n      return;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    while (start < stop) {\n      let a = array[start];\n      let b = array[stop];\n      array[start++] = b;\n      array[stop--] = a;\n    }\n  }\n\n  /**\n   * Rotate the elements of an array in-place.\n   *\n   * @param array - The mutable array-like object of interest.\n   *\n   * @param delta - The amount of rotation to apply to the elements. A\n   *   positive value will rotate the elements to the left. A negative\n   *   value will rotate the elements to the right.\n   *\n   * @param start - The index of the first element in the range to be\n   *   rotated, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   rotated, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `delta`, `start`, or `stop` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [0, 1, 2, 3, 4];\n   * ArrayExt.rotate(data, 2);        // [2, 3, 4, 0, 1]\n   * ArrayExt.rotate(data, -2);       // [0, 1, 2, 3, 4]\n   * ArrayExt.rotate(data, 10);       // [0, 1, 2, 3, 4]\n   * ArrayExt.rotate(data, 9);        // [4, 0, 1, 2, 3]\n   * ArrayExt.rotate(data, 2, 1, 3);  // [4, 2, 0, 1, 3]\n   * ```\n   */\n  export function rotate<T>(\n    array: MutableArrayLike<T>,\n    delta: number,\n    start = 0,\n    stop = -1\n  ): void {\n    let n = array.length;\n    if (n <= 1) {\n      return;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    if (start >= stop) {\n      return;\n    }\n    let length = stop - start + 1;\n    if (delta > 0) {\n      delta = delta % length;\n    } else if (delta < 0) {\n      delta = ((delta % length) + length) % length;\n    }\n    if (delta === 0) {\n      return;\n    }\n    let pivot = start + delta;\n    reverse(array, start, pivot - 1);\n    reverse(array, pivot, stop);\n    reverse(array, start, stop);\n  }\n\n  /**\n   * Fill an array with a static value.\n   *\n   * @param array - The mutable array-like object to fill.\n   *\n   * @param value - The static value to use to fill the array.\n   *\n   * @param start - The index of the first element in the range to be\n   *   filled, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   filled, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * #### Notes\n   * If `stop < start` the fill will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * A `start` or `stop` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = ['one', 'two', 'three', 'four'];\n   * ArrayExt.fill(data, 'r');        // ['r', 'r', 'r', 'r']\n   * ArrayExt.fill(data, 'g', 1);     // ['r', 'g', 'g', 'g']\n   * ArrayExt.fill(data, 'b', 2, 3);  // ['r', 'g', 'b', 'b']\n   * ArrayExt.fill(data, 'z', 3, 1);  // ['z', 'z', 'b', 'z']\n   * ```\n   */\n  export function fill<T>(\n    array: MutableArrayLike<T>,\n    value: T,\n    start = 0,\n    stop = -1\n  ): void {\n    let n = array.length;\n    if (n === 0) {\n      return;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let span: number;\n    if (stop < start) {\n      span = stop + 1 + (n - start);\n    } else {\n      span = stop - start + 1;\n    }\n    for (let i = 0; i < span; ++i) {\n      array[(start + i) % n] = value;\n    }\n  }\n\n  /**\n   * Insert a value into an array at a specific index.\n   *\n   * @param array - The array of interest.\n   *\n   * @param index - The index at which to insert the value. Negative\n   *   values are taken as an offset from the end of the array.\n   *\n   * @param value - The value to set at the specified index.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * An `index` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [0, 1, 2];\n   * ArrayExt.insert(data, 0, -1);  // [-1, 0, 1, 2]\n   * ArrayExt.insert(data, 2, 12);  // [-1, 0, 12, 1, 2]\n   * ArrayExt.insert(data, -1, 7);  // [-1, 0, 12, 1, 7, 2]\n   * ArrayExt.insert(data, 6, 19);  // [-1, 0, 12, 1, 7, 2, 19]\n   * ```\n   */\n  export function insert<T>(array: Array<T>, index: number, value: T): void {\n    let n = array.length;\n    if (index < 0) {\n      index = Math.max(0, index + n);\n    } else {\n      index = Math.min(index, n);\n    }\n    for (let i = n; i > index; --i) {\n      array[i] = array[i - 1];\n    }\n    array[index] = value;\n  }\n\n  /**\n   * Remove and return a value at a specific index in an array.\n   *\n   * @param array - The array of interest.\n   *\n   * @param index - The index of the value to remove. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The value at the specified index, or `undefined` if the\n   *   index is out of range.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Undefined Behavior\n   * An `index` which is non-integral.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [0, 12, 23, 39, 14, 12, 75];\n   * ArrayExt.removeAt(data, 2);   // 23\n   * ArrayExt.removeAt(data, -2);  // 12\n   * ArrayExt.removeAt(data, 10);  // undefined;\n   * ```\n   */\n  export function removeAt<T>(array: Array<T>, index: number): T | undefined {\n    let n = array.length;\n    if (index < 0) {\n      index += n;\n    }\n    if (index < 0 || index >= n) {\n      return undefined;\n    }\n    let value = array[index];\n    for (let i = index + 1; i < n; ++i) {\n      array[i - 1] = array[i];\n    }\n    array.length = n - 1;\n    return value;\n  }\n\n  /**\n   * Remove the first occurrence of a value from an array.\n   *\n   * @param array - The array of interest.\n   *\n   * @param value - The value to remove from the array. Values are\n   *   compared using strict `===` equality.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the removed value, or `-1` if the value\n   *   is not contained in the array.\n   *\n   * #### Notes\n   * If `stop < start` the search will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [0, 12, 23, 39, 14, 12, 75];\n   * ArrayExt.removeFirstOf(data, 12);        // 1\n   * ArrayExt.removeFirstOf(data, 17);        // -1\n   * ArrayExt.removeFirstOf(data, 39, 3);     // -1\n   * ArrayExt.removeFirstOf(data, 39, 3, 2);  // 2\n   * ```\n   */\n  export function removeFirstOf<T>(\n    array: Array<T>,\n    value: T,\n    start = 0,\n    stop = -1\n  ): number {\n    let index = firstIndexOf(array, value, start, stop);\n    if (index !== -1) {\n      removeAt(array, index);\n    }\n    return index;\n  }\n\n  /**\n   * Remove the last occurrence of a value from an array.\n   *\n   * @param array - The array of interest.\n   *\n   * @param value - The value to remove from the array. Values are\n   *   compared using strict `===` equality.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The index of the removed value, or `-1` if the value\n   *   is not contained in the array.\n   *\n   * #### Notes\n   * If `start < stop` the search will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [0, 12, 23, 39, 14, 12, 75];\n   * ArrayExt.removeLastOf(data, 12);        // 5\n   * ArrayExt.removeLastOf(data, 17);        // -1\n   * ArrayExt.removeLastOf(data, 39, 2);     // -1\n   * ArrayExt.removeLastOf(data, 39, 2, 3);  // 3\n   * ```\n   */\n  export function removeLastOf<T>(\n    array: Array<T>,\n    value: T,\n    start = -1,\n    stop = 0\n  ): number {\n    let index = lastIndexOf(array, value, start, stop);\n    if (index !== -1) {\n      removeAt(array, index);\n    }\n    return index;\n  }\n\n  /**\n   * Remove all occurrences of a value from an array.\n   *\n   * @param array - The array of interest.\n   *\n   * @param value - The value to remove from the array. Values are\n   *   compared using strict `===` equality.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The number of elements removed from the array.\n   *\n   * #### Notes\n   * If `stop < start` the search will conceptually wrap at the end of\n   * the array, however the array will be traversed front-to-back.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * let data = [14, 12, 23, 39, 14, 12, 19, 14];\n   * ArrayExt.removeAllOf(data, 12);        // 2\n   * ArrayExt.removeAllOf(data, 17);        // 0\n   * ArrayExt.removeAllOf(data, 14, 1, 4);  // 1\n   * ```\n   */\n  export function removeAllOf<T>(\n    array: Array<T>,\n    value: T,\n    start = 0,\n    stop = -1\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return 0;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let count = 0;\n    for (let i = 0; i < n; ++i) {\n      if (start <= stop && i >= start && i <= stop && array[i] === value) {\n        count++;\n      } else if (\n        stop < start &&\n        (i <= stop || i >= start) &&\n        array[i] === value\n      ) {\n        count++;\n      } else if (count > 0) {\n        array[i - count] = array[i];\n      }\n    }\n    if (count > 0) {\n      array.length = n - count;\n    }\n    return count;\n  }\n\n  /**\n   * Remove the first occurrence of a value which matches a predicate.\n   *\n   * @param array - The array of interest.\n   *\n   * @param fn - The predicate function to apply to the values.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The removed `{ index, value }`, which will be `-1` and\n   *   `undefined` if the value is not contained in the array.\n   *\n   * #### Notes\n   * If `stop < start` the search will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function isEven(value: number): boolean {\n   *   return value % 2 === 0;\n   * }\n   *\n   * let data = [0, 12, 23, 39, 14, 12, 75];\n   * ArrayExt.removeFirstWhere(data, isEven);     // { index: 0, value: 0 }\n   * ArrayExt.removeFirstWhere(data, isEven, 2);  // { index: 3, value: 14 }\n   * ArrayExt.removeFirstWhere(data, isEven, 4);  // { index: -1, value: undefined }\n   * ```\n   */\n  export function removeFirstWhere<T>(\n    array: Array<T>,\n    fn: (value: T, index: number) => boolean,\n    start = 0,\n    stop = -1\n  ): { index: number; value: T | undefined } {\n    let value: T | undefined;\n    let index = findFirstIndex(array, fn, start, stop);\n    if (index !== -1) {\n      value = removeAt(array, index);\n    }\n    return { index, value };\n  }\n\n  /**\n   * Remove the last occurrence of a value which matches a predicate.\n   *\n   * @param array - The array of interest.\n   *\n   * @param fn - The predicate function to apply to the values.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The removed `{ index, value }`, which will be `-1` and\n   *   `undefined` if the value is not contained in the array.\n   *\n   * #### Notes\n   * If `start < stop` the search will wrap at the end of the array.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function isEven(value: number): boolean {\n   *   return value % 2 === 0;\n   * }\n   *\n   * let data = [0, 12, 23, 39, 14, 12, 75];\n   * ArrayExt.removeLastWhere(data, isEven);        // { index: 5, value: 12 }\n   * ArrayExt.removeLastWhere(data, isEven, 2);     // { index: 1, value: 12 }\n   * ArrayExt.removeLastWhere(data, isEven, 2, 1);  // { index: -1, value: undefined }\n   * ```\n   */\n  export function removeLastWhere<T>(\n    array: Array<T>,\n    fn: (value: T, index: number) => boolean,\n    start = -1,\n    stop = 0\n  ): { index: number; value: T | undefined } {\n    let value: T | undefined;\n    let index = findLastIndex(array, fn, start, stop);\n    if (index !== -1) {\n      value = removeAt(array, index);\n    }\n    return { index, value };\n  }\n\n  /**\n   * Remove all occurrences of values which match a predicate.\n   *\n   * @param array - The array of interest.\n   *\n   * @param fn - The predicate function to apply to the values.\n   *\n   * @param start - The index of the first element in the range to be\n   *   searched, inclusive. The default value is `0`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @param stop - The index of the last element in the range to be\n   *   searched, inclusive. The default value is `-1`. Negative values\n   *   are taken as an offset from the end of the array.\n   *\n   * @returns The number of elements removed from the array.\n   *\n   * #### Notes\n   * If `stop < start` the search will conceptually wrap at the end of\n   * the array, however the array will be traversed front-to-back.\n   *\n   * #### Complexity\n   * Linear.\n   *\n   * #### Example\n   * ```typescript\n   * import { ArrayExt } from '@lumino/algorithm';\n   *\n   * function isEven(value: number): boolean {\n   *   return value % 2 === 0;\n   * }\n   *\n   * function isNegative(value: number): boolean {\n   *   return value < 0;\n   * }\n   *\n   * let data = [0, 12, -13, -9, 23, 39, 14, -15, 12, 75];\n   * ArrayExt.removeAllWhere(data, isEven);            // 4\n   * ArrayExt.removeAllWhere(data, isNegative, 0, 3);  // 2\n   * ```\n   */\n  export function removeAllWhere<T>(\n    array: Array<T>,\n    fn: (value: T, index: number) => boolean,\n    start = 0,\n    stop = -1\n  ): number {\n    let n = array.length;\n    if (n === 0) {\n      return 0;\n    }\n    if (start < 0) {\n      start = Math.max(0, start + n);\n    } else {\n      start = Math.min(start, n - 1);\n    }\n    if (stop < 0) {\n      stop = Math.max(0, stop + n);\n    } else {\n      stop = Math.min(stop, n - 1);\n    }\n    let count = 0;\n    for (let i = 0; i < n; ++i) {\n      if (start <= stop && i >= start && i <= stop && fn(array[i], i)) {\n        count++;\n      } else if (stop < start && (i <= stop || i >= start) && fn(array[i], i)) {\n        count++;\n      } else if (count > 0) {\n        array[i - count] = array[i];\n      }\n    }\n    if (count > 0) {\n      array.length = n - count;\n    }\n    return count;\n  }\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n/**\n * Create an iterator of evenly spaced values.\n *\n * @param start - The starting value for the range, inclusive.\n *\n * @param stop - The stopping value for the range, exclusive.\n *\n * @param step - The distance between each value.\n *\n * @returns An iterator which produces evenly spaced values.\n *\n * #### Notes\n * In the single argument form of `range(stop)`, `start` defaults to\n * `0` and `step` defaults to `1`.\n *\n * In the two argument form of `range(start, stop)`, `step` defaults\n * to `1`.\n *\n * #### Example\n * ```typescript\n * import { range } from '@lumino/algorithm';\n *\n * let stream = range(2, 4);\n *\n * Array.from(stream);  // [2, 3]\n * ```\n */\nexport function* range(\n  start: number,\n  stop?: number,\n  step?: number\n): IterableIterator<number> {\n  if (stop === undefined) {\n    stop = start;\n    start = 0;\n    step = 1;\n  } else if (step === undefined) {\n    step = 1;\n  }\n  const length = Private.rangeLength(start, stop, step);\n  for (let index = 0; index < length; index++) {\n    yield start + step * index;\n  }\n}\n\n/**\n * The namespace for the module implementation details.\n */\nnamespace Private {\n  /**\n   * Compute the effective length of a range.\n   *\n   * @param start - The starting value for the range, inclusive.\n   *\n   * @param stop - The stopping value for the range, exclusive.\n   *\n   * @param step - The distance between each value.\n   *\n   * @returns The number of steps need to traverse the range.\n   */\n  export function rangeLength(\n    start: number,\n    stop: number,\n    step: number\n  ): number {\n    if (step === 0) {\n      return Infinity;\n    }\n    if (start > stop && step > 0) {\n      return 0;\n    }\n    if (start < stop && step < 0) {\n      return 0;\n    }\n    return Math.ceil((stop - start) / step);\n  }\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n/**\n * Topologically sort an iterable of edges.\n *\n * @param edges - The iterable object of edges to sort.\n *   An edge is represented as a 2-tuple of `[fromNode, toNode]`.\n *\n * @returns The topologically sorted array of nodes.\n *\n * #### Notes\n * If a cycle is present in the graph, the cycle will be ignored and\n * the return value will be only approximately sorted.\n *\n * #### Example\n * ```typescript\n * import { topologicSort } from '@lumino/algorithm';\n *\n * let data = [\n *   ['d', 'e'],\n *   ['c', 'd'],\n *   ['a', 'b'],\n *   ['b', 'c']\n * ];\n *\n * topologicSort(data);  // ['a', 'b', 'c', 'd', 'e']\n * ```\n */\nexport function topologicSort<T>(edges: Iterable<[T, T]>): T[] {\n  // Setup the shared sorting state.\n  let sorted: T[] = [];\n  let visited = new Set<T>();\n  let graph = new Map<T, T[]>();\n\n  // Add the edges to the graph.\n  for (const edge of edges) {\n    addEdge(edge);\n  }\n\n  // Visit each node in the graph.\n  for (const [k] of graph) {\n    visit(k);\n  }\n\n  // Return the sorted results.\n  return sorted;\n\n  // Add an edge to the graph.\n  function addEdge(edge: [T, T]): void {\n    let [fromNode, toNode] = edge;\n    let children = graph.get(toNode);\n    if (children) {\n      children.push(fromNode);\n    } else {\n      graph.set(toNode, [fromNode]);\n    }\n  }\n\n  // Recursively visit the node.\n  function visit(node: T): void {\n    if (visited.has(node)) {\n      return;\n    }\n    visited.add(node);\n    let children = graph.get(node);\n    if (children) {\n      for (const child of children) {\n        visit(child);\n      }\n    }\n    sorted.push(node);\n  }\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n/**\n * The namespace for string-specific algorithms.\n */\nexport namespace StringExt {\n  /**\n   * Find the indices of characters in a source text.\n   *\n   * @param source - The source text which should be searched.\n   *\n   * @param query - The characters to locate in the source text.\n   *\n   * @param start - The index to start the search.\n   *\n   * @returns The matched indices, or `null` if there is no match.\n   *\n   * #### Complexity\n   * Linear on `sourceText`.\n   *\n   * #### Notes\n   * In order for there to be a match, all of the characters in `query`\n   * **must** appear in `source` in the order given by `query`.\n   *\n   * Characters are matched using strict `===` equality.\n   */\n  export function findIndices(\n    source: string,\n    query: string,\n    start = 0\n  ): number[] | null {\n    let indices = new Array<number>(query.length);\n    for (let i = 0, j = start, n = query.length; i < n; ++i, ++j) {\n      j = source.indexOf(query[i], j);\n      if (j === -1) {\n        return null;\n      }\n      indices[i] = j;\n    }\n    return indices;\n  }\n\n  /**\n   * The result of a string match function.\n   */\n  export interface IMatchResult {\n    /**\n     * A score which indicates the strength of the match.\n     *\n     * The documentation of a given match function should specify\n     * whether a lower or higher score is a stronger match.\n     */\n    score: number;\n\n    /**\n     * The indices of the matched characters in the source text.\n     *\n     * The indices will appear in increasing order.\n     */\n    indices: number[];\n  }\n\n  /**\n   * A string matcher which uses a sum-of-squares algorithm.\n   *\n   * @param source - The source text which should be searched.\n   *\n   * @param query - The characters to locate in the source text.\n   *\n   * @param start - The index to start the search.\n   *\n   * @returns The match result, or `null` if there is no match.\n   *   A lower `score` represents a stronger match.\n   *\n   * #### Complexity\n   * Linear on `sourceText`.\n   *\n   * #### Notes\n   * This scoring algorithm uses a sum-of-squares approach to determine\n   * the score. In order for there to be a match, all of the characters\n   * in `query` **must** appear in `source` in order. The index of each\n   * matching character is squared and added to the score. This means\n   * that early and consecutive character matches are preferred, while\n   * late matches are heavily penalized.\n   */\n  export function matchSumOfSquares(\n    source: string,\n    query: string,\n    start = 0\n  ): IMatchResult | null {\n    let indices = findIndices(source, query, start);\n    if (!indices) {\n      return null;\n    }\n    let score = 0;\n    for (let i = 0, n = indices.length; i < n; ++i) {\n      let j = indices[i] - start;\n      score += j * j;\n    }\n    return { score, indices };\n  }\n\n  /**\n   * A string matcher which uses a sum-of-deltas algorithm.\n   *\n   * @param source - The source text which should be searched.\n   *\n   * @param query - The characters to locate in the source text.\n   *\n   * @param start - The index to start the search.\n   *\n   * @returns The match result, or `null` if there is no match.\n   *   A lower `score` represents a stronger match.\n   *\n   * #### Complexity\n   * Linear on `sourceText`.\n   *\n   * #### Notes\n   * This scoring algorithm uses a sum-of-deltas approach to determine\n   * the score. In order for there to be a match, all of the characters\n   * in `query` **must** appear in `source` in order. The delta between\n   * the indices are summed to create the score. This means that groups\n   * of matched characters are preferred, while fragmented matches are\n   * penalized.\n   */\n  export function matchSumOfDeltas(\n    source: string,\n    query: string,\n    start = 0\n  ): IMatchResult | null {\n    let indices = findIndices(source, query, start);\n    if (!indices) {\n      return null;\n    }\n    let score = 0;\n    let last = start - 1;\n    for (let i = 0, n = indices.length; i < n; ++i) {\n      let j = indices[i];\n      score += j - last - 1;\n      last = j;\n    }\n    return { score, indices };\n  }\n\n  /**\n   * Highlight the matched characters of a source text.\n   *\n   * @param source - The text which should be highlighted.\n   *\n   * @param indices - The indices of the matched characters. They must\n   *   appear in increasing order and must be in bounds of the source.\n   *\n   * @param fn - The function to apply to the matched chunks.\n   *\n   * @returns An array of unmatched and highlighted chunks.\n   */\n  export function highlight<T>(\n    source: string,\n    indices: ReadonlyArray<number>,\n    fn: (chunk: string) => T\n  ): Array<string | T> {\n    // Set up the result array.\n    let result: Array<string | T> = [];\n\n    // Set up the counter variables.\n    let k = 0;\n    let last = 0;\n    let n = indices.length;\n\n    // Iterator over each index.\n    while (k < n) {\n      // Set up the chunk indices.\n      let i = indices[k];\n      let j = indices[k];\n\n      // Advance the right chunk index until it's non-contiguous.\n      while (++k < n && indices[k] === j + 1) {\n        j++;\n      }\n\n      // Extract the unmatched text.\n      if (last < i) {\n        result.push(source.slice(last, i));\n      }\n\n      // Extract and highlight the matched text.\n      if (i < j + 1) {\n        result.push(fn(source.slice(i, j + 1)));\n      }\n\n      // Update the last visited index.\n      last = j + 1;\n    }\n\n    // Extract any remaining unmatched text.\n    if (last < source.length) {\n      result.push(source.slice(last));\n    }\n\n    // Return the highlighted result.\n    return result;\n  }\n\n  /**\n   * A 3-way string comparison function.\n   *\n   * @param a - The first string of interest.\n   *\n   * @param b - The second string of interest.\n   *\n   * @returns `-1` if `a < b`, else `1` if `a > b`, else `0`.\n   */\n  export function cmp(a: string, b: string): number {\n    return a < b ? -1 : a > b ? 1 : 0;\n  }\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n/**\n * @packageDocumentation\n * @module application\n */\nimport { topologicSort } from '@lumino/algorithm';\n\nimport { CommandRegistry } from '@lumino/commands';\n\nimport { PromiseDelegate, Token } from '@lumino/coreutils';\n\nimport { ContextMenu, Menu, Widget } from '@lumino/widgets';\n\n/**\n * A user-defined application plugin.\n *\n * @typeparam T - The type for the application.\n *\n * @typeparam U - The service type, if the plugin `provides` one.\n *\n * #### Notes\n * Plugins are the foundation for building an extensible application.\n *\n * Plugins consume and provide \"services\", which are nothing more than\n * concrete implementations of interfaces and/or abstract types.\n *\n * Unlike regular imports and exports, which tie the service consumer\n * to a particular implementation of the service, plugins decouple the\n * service producer from the service consumer, allowing an application\n * to be easily customized by third parties in a type-safe fashion.\n */\nexport interface IPlugin<T extends Application, U> {\n  /**\n   * The human readable ID of the plugin.\n   *\n   * #### Notes\n   * This must be unique within an application.\n   */\n  id: string;\n\n  /**\n   * Plugin description.\n   *\n   * #### Notes\n   * This can be used to provide user documentation on the feature\n   * brought by a plugin.\n   */\n  description?: string;\n\n  /**\n   * Whether the plugin should be activated on application start or waiting for being\n   * required. If the value is 'defer' then the plugin should be activated only after\n   * the application is started.\n   *\n   * #### Notes\n   * The default is `false`.\n   */\n  autoStart?: boolean | 'defer';\n\n  /**\n   * The types of required services for the plugin, if any.\n   *\n   * #### Notes\n   * These tokens correspond to the services that are required by\n   * the plugin for correct operation.\n   *\n   * When the plugin is activated, a concrete instance of each type\n   * will be passed to the `activate()` function, in the order they\n   * are specified in the `requires` array.\n   */\n  requires?: Token<any>[];\n\n  /**\n   * The types of optional services for the plugin, if any.\n   *\n   * #### Notes\n   * These tokens correspond to the services that can be used by the\n   * plugin if available, but are not necessarily required.\n   *\n   * The optional services will be passed to the `activate()` function\n   * following all required services. If an optional service cannot be\n   * resolved, `null` will be passed in its place.\n   */\n  optional?: Token<any>[];\n\n  /**\n   * The type of service provided by the plugin, if any.\n   *\n   * #### Notes\n   * This token corresponds to the service exported by the plugin.\n   *\n   * When the plugin is activated, the return value of `activate()`\n   * is used as the concrete instance of the type.\n   */\n  provides?: Token<U> | null;\n\n  /**\n   * A function invoked to activate the plugin.\n   *\n   * @param app - The application which owns the plugin.\n   *\n   * @param args - The services specified by the `requires` property.\n   *\n   * @returns The provided service, or a promise to the service.\n   *\n   * #### Notes\n   * This function will be called whenever the plugin is manually\n   * activated, or when another plugin being activated requires\n   * the service it provides.\n   *\n   * This function will not be called unless all of its required\n   * services can be fulfilled.\n   */\n  activate: (app: T, ...args: any[]) => U | Promise<U>;\n\n  /**\n   * A function invoked to deactivate the plugin.\n   *\n   * @param app - The application which owns the plugin.\n   *\n   * @param args - The services specified by the `requires` property.\n   */\n  deactivate?: ((app: T, ...args: any[]) => void | Promise<void>) | null;\n}\n\n/**\n * A class for creating pluggable applications.\n *\n * @typeparam T - The type of the application shell.\n *\n * #### Notes\n * The `Application` class is useful when creating large, complex\n * UI applications with the ability to be safely extended by third\n * party code via plugins.\n */\nexport class Application<T extends Widget = Widget> {\n  /**\n   * Construct a new application.\n   *\n   * @param options - The options for creating the application.\n   */\n  constructor(options: Application.IOptions<T>) {\n    // Initialize the application state.\n    this.commands = new CommandRegistry();\n    this.contextMenu = new ContextMenu({\n      commands: this.commands,\n      renderer: options.contextMenuRenderer\n    });\n    this.shell = options.shell;\n  }\n\n  /**\n   * The application command registry.\n   */\n  readonly commands: CommandRegistry;\n\n  /**\n   * The application context menu.\n   */\n  readonly contextMenu: ContextMenu;\n\n  /**\n   * The application shell widget.\n   *\n   * #### Notes\n   * The shell widget is the root \"container\" widget for the entire\n   * application. It will typically expose an API which allows the\n   * application plugins to insert content in a variety of places.\n   */\n  readonly shell: T;\n\n  /**\n   * A promise which resolves after the application has started.\n   *\n   * #### Notes\n   * This promise will resolve after the `start()` method is called,\n   * when all the bootstrapping and shell mounting work is complete.\n   */\n  get started(): Promise<void> {\n    return this._delegate.promise;\n  }\n\n  /**\n   * Get a plugin description.\n   *\n   * @param id - The ID of the plugin of interest.\n   *\n   * @returns The plugin description.\n   */\n  getPluginDescription(id: string): string {\n    return this._plugins.get(id)?.description ?? '';\n  }\n\n  /**\n   * Test whether a plugin is registered with the application.\n   *\n   * @param id - The ID of the plugin of interest.\n   *\n   * @returns `true` if the plugin is registered, `false` otherwise.\n   */\n  hasPlugin(id: string): boolean {\n    return this._plugins.has(id);\n  }\n\n  /**\n   * Test whether a plugin is activated with the application.\n   *\n   * @param id - The ID of the plugin of interest.\n   *\n   * @returns `true` if the plugin is activated, `false` otherwise.\n   */\n  isPluginActivated(id: string): boolean {\n    return this._plugins.get(id)?.activated ?? false;\n  }\n\n  /**\n   * List the IDs of the plugins registered with the application.\n   *\n   * @returns A new array of the registered plugin IDs.\n   */\n  listPlugins(): string[] {\n    return Array.from(this._plugins.keys());\n  }\n\n  /**\n   * Register a plugin with the application.\n   *\n   * @param plugin - The plugin to register.\n   *\n   * #### Notes\n   * An error will be thrown if a plugin with the same ID is already\n   * registered, or if the plugin has a circular dependency.\n   *\n   * If the plugin provides a service which has already been provided\n   * by another plugin, the new service will override the old service.\n   */\n  registerPlugin(plugin: IPlugin<this, any>): void {\n    // Throw an error if the plugin ID is already registered.\n    if (this._plugins.has(plugin.id)) {\n      throw new TypeError(`Plugin '${plugin.id}' is already registered.`);\n    }\n\n    // Create the normalized plugin data.\n    const data = Private.createPluginData(plugin);\n\n    // Ensure the plugin does not cause a cyclic dependency.\n    Private.ensureNoCycle(data, this._plugins, this._services);\n\n    // Add the service token to the service map.\n    if (data.provides) {\n      this._services.set(data.provides, data.id);\n    }\n\n    // Add the plugin to the plugin map.\n    this._plugins.set(data.id, data);\n  }\n\n  /**\n   * Register multiple plugins with the application.\n   *\n   * @param plugins - The plugins to register.\n   *\n   * #### Notes\n   * This calls `registerPlugin()` for each of the given plugins.\n   */\n  registerPlugins(plugins: IPlugin<this, any>[]): void {\n    for (const plugin of plugins) {\n      this.registerPlugin(plugin);\n    }\n  }\n\n  /**\n   * Deregister a plugin with the application.\n   *\n   * @param id - The ID of the plugin of interest.\n   *\n   * @param force - Whether to deregister the plugin even if it is active.\n   */\n  deregisterPlugin(id: string, force?: boolean): void {\n    const plugin = this._plugins.get(id);\n    if (!plugin) {\n      return;\n    }\n\n    if (plugin.activated && !force) {\n      throw new Error(`Plugin '${id}' is still active.`);\n    }\n\n    this._plugins.delete(id);\n  }\n\n  /**\n   * Activate the plugin with the given ID.\n   *\n   * @param id - The ID of the plugin of interest.\n   *\n   * @returns A promise which resolves when the plugin is activated\n   *   or rejects with an error if it cannot be activated.\n   */\n  async activatePlugin(id: string): Promise<void> {\n    // Reject the promise if the plugin is not registered.\n    const plugin = this._plugins.get(id);\n    if (!plugin) {\n      throw new ReferenceError(`Plugin '${id}' is not registered.`);\n    }\n\n    // Resolve immediately if the plugin is already activated.\n    if (plugin.activated) {\n      return;\n    }\n\n    // Return the pending resolver promise if it exists.\n    if (plugin.promise) {\n      return plugin.promise;\n    }\n\n    // Resolve the required services for the plugin.\n    const required = plugin.requires.map(t => this.resolveRequiredService(t));\n\n    // Resolve the optional services for the plugin.\n    const optional = plugin.optional.map(t => this.resolveOptionalService(t));\n\n    // Setup the resolver promise for the plugin.\n    plugin.promise = Promise.all([...required, ...optional])\n      .then(services => plugin!.activate.apply(undefined, [this, ...services]))\n      .then(service => {\n        plugin!.service = service;\n        plugin!.activated = true;\n        plugin!.promise = null;\n      })\n      .catch(error => {\n        plugin!.promise = null;\n        throw error;\n      });\n\n    // Return the pending resolver promise.\n    return plugin.promise;\n  }\n\n  /**\n   * Deactivate the plugin and its downstream dependents if and only if the\n   * plugin and its dependents all support `deactivate`.\n   *\n   * @param id - The ID of the plugin of interest.\n   *\n   * @returns A list of IDs of downstream plugins deactivated with this one.\n   */\n  async deactivatePlugin(id: string): Promise<string[]> {\n    // Reject the promise if the plugin is not registered.\n    const plugin = this._plugins.get(id);\n    if (!plugin) {\n      throw new ReferenceError(`Plugin '${id}' is not registered.`);\n    }\n\n    // Bail early if the plugin is not activated.\n    if (!plugin.activated) {\n      return [];\n    }\n\n    // Check that this plugin can deactivate.\n    if (!plugin.deactivate) {\n      throw new TypeError(`Plugin '${id}'#deactivate() method missing`);\n    }\n\n    // Find the optimal deactivation order for plugins downstream of this one.\n    const manifest = Private.findDependents(id, this._plugins, this._services);\n    const downstream = manifest.map(id => this._plugins.get(id)!);\n\n    // Check that all downstream plugins can deactivate.\n    for (const plugin of downstream) {\n      if (!plugin.deactivate) {\n        throw new TypeError(\n          `Plugin ${plugin.id}#deactivate() method missing (depends on ${id})`\n        );\n      }\n    }\n\n    // Deactivate all downstream plugins.\n    for (const plugin of downstream) {\n      const services = [...plugin.requires, ...plugin.optional].map(service => {\n        const id = this._services.get(service);\n        return id ? this._plugins.get(id)!.service : null;\n      });\n\n      // Await deactivation so the next plugins only receive active services.\n      await plugin.deactivate!(this, ...services);\n      plugin.service = null;\n      plugin.activated = false;\n    }\n\n    // Remove plugin ID and return manifest of deactivated plugins.\n    manifest.pop();\n    return manifest;\n  }\n\n  /**\n   * Resolve a required service of a given type.\n   *\n   * @param token - The token for the service type of interest.\n   *\n   * @returns A promise which resolves to an instance of the requested\n   *   service, or rejects with an error if it cannot be resolved.\n   *\n   * #### Notes\n   * Services are singletons. The same instance will be returned each\n   * time a given service token is resolved.\n   *\n   * If the plugin which provides the service has not been activated,\n   * resolving the service will automatically activate the plugin.\n   *\n   * User code will not typically call this method directly. Instead,\n   * the required services for the user's plugins will be resolved\n   * automatically when the plugin is activated.\n   */\n  async resolveRequiredService<U>(token: Token<U>): Promise<U> {\n    // Reject the promise if there is no provider for the type.\n    const id = this._services.get(token);\n    if (!id) {\n      throw new TypeError(`No provider for: ${token.name}.`);\n    }\n\n    // Activate the plugin if necessary.\n    const plugin = this._plugins.get(id)!;\n    if (!plugin.activated) {\n      await this.activatePlugin(id);\n    }\n\n    return plugin.service;\n  }\n\n  /**\n   * Resolve an optional service of a given type.\n   *\n   * @param token - The token for the service type of interest.\n   *\n   * @returns A promise which resolves to an instance of the requested\n   *   service, or `null` if it cannot be resolved.\n   *\n   * #### Notes\n   * Services are singletons. The same instance will be returned each\n   * time a given service token is resolved.\n   *\n   * If the plugin which provides the service has not been activated,\n   * resolving the service will automatically activate the plugin.\n   *\n   * User code will not typically call this method directly. Instead,\n   * the optional services for the user's plugins will be resolved\n   * automatically when the plugin is activated.\n   */\n  async resolveOptionalService<U>(token: Token<U>): Promise<U | null> {\n    // Resolve with `null` if there is no provider for the type.\n    const id = this._services.get(token);\n    if (!id) {\n      return null;\n    }\n\n    // Activate the plugin if necessary.\n    const plugin = this._plugins.get(id)!;\n    if (!plugin.activated) {\n      try {\n        await this.activatePlugin(id);\n      } catch (reason) {\n        console.error(reason);\n        return null;\n      }\n    }\n\n    return plugin.service;\n  }\n\n  /**\n   * Start the application.\n   *\n   * @param options - The options for starting the application.\n   *\n   * @returns A promise which resolves when all bootstrapping work\n   *   is complete and the shell is mounted to the DOM.\n   *\n   * #### Notes\n   * This should be called once by the application creator after all\n   * initial plugins have been registered.\n   *\n   * If a plugin fails to the load, the error will be logged and the\n   * other valid plugins will continue to be loaded.\n   *\n   * Bootstrapping the application consists of the following steps:\n   * 1. Activate the startup plugins\n   * 2. Wait for those plugins to activate\n   * 3. Attach the shell widget to the DOM\n   * 4. Add the application event listeners\n   */\n  start(options: Application.IStartOptions = {}): Promise<void> {\n    // Return immediately if the application is already started.\n    if (this._started) {\n      return this._delegate.promise;\n    }\n\n    // Mark the application as started;\n    this._started = true;\n\n    this._bubblingKeydown = options.bubblingKeydown || false;\n\n    // Parse the host ID for attaching the shell.\n    const hostID = options.hostID || '';\n\n    // Collect the ids of the startup plugins.\n    const startups = Private.collectStartupPlugins(this._plugins, options);\n\n    // Generate the activation promises.\n    const promises = startups.map(id => {\n      return this.activatePlugin(id).catch(error => {\n        console.error(`Plugin '${id}' failed to activate.`);\n        console.error(error);\n      });\n    });\n\n    // Wait for the plugins to activate, then finalize startup.\n    Promise.all(promises).then(() => {\n      this.attachShell(hostID);\n      this.addEventListeners();\n      this._delegate.resolve();\n    });\n\n    // Return the pending delegate promise.\n    return this._delegate.promise;\n  }\n\n  /**\n   * The list of all the deferred plugins.\n   */\n  get deferredPlugins(): string[] {\n    return Array.from(this._plugins)\n      .filter(([id, plugin]) => plugin.autoStart === 'defer')\n      .map(([id, plugin]) => id);\n  }\n\n  /**\n   * Activate all the deferred plugins.\n   *\n   * @returns A promise which will resolve when each plugin is activated\n   * or rejects with an error if one cannot be activated.\n   */\n  async activateDeferredPlugins(): Promise<void> {\n    const promises = this.deferredPlugins\n      .filter(pluginId => this._plugins.get(pluginId)!.autoStart)\n      .map(pluginId => {\n        return this.activatePlugin(pluginId);\n      });\n    await Promise.all(promises);\n  }\n\n  /**\n   * Handle the DOM events for the application.\n   *\n   * @param event - The DOM event sent to the application.\n   *\n   * #### Notes\n   * This method implements the DOM `EventListener` interface and is\n   * called in response to events registered for the application. It\n   * should not be called directly by user code.\n   */\n  handleEvent(event: Event): void {\n    switch (event.type) {\n      case 'resize':\n        this.evtResize(event);\n        break;\n      case 'keydown':\n        this.evtKeydown(event as KeyboardEvent);\n        break;\n      case 'contextmenu':\n        this.evtContextMenu(event as PointerEvent);\n        break;\n    }\n  }\n\n  /**\n   * Attach the application shell to the DOM.\n   *\n   * @param id - The ID of the host node for the shell, or `''`.\n   *\n   * #### Notes\n   * If the ID is not provided, the document body will be the host.\n   *\n   * A subclass may reimplement this method as needed.\n   */\n  protected attachShell(id: string): void {\n    Widget.attach(\n      this.shell,\n      (id && document.getElementById(id)) || document.body\n    );\n  }\n\n  /**\n   * Add the application event listeners.\n   *\n   * #### Notes\n   * The default implementation of this method adds listeners for\n   * `'keydown'` and `'resize'` events.\n   *\n   * A subclass may reimplement this method as needed.\n   */\n  protected addEventListeners(): void {\n    document.addEventListener('contextmenu', this);\n    document.addEventListener('keydown', this, !this._bubblingKeydown);\n    window.addEventListener('resize', this);\n  }\n\n  /**\n   * A method invoked on a document `'keydown'` event.\n   *\n   * #### Notes\n   * The default implementation of this method invokes the key down\n   * processing method of the application command registry.\n   *\n   * A subclass may reimplement this method as needed.\n   */\n  protected evtKeydown(event: KeyboardEvent): void {\n    this.commands.processKeydownEvent(event);\n  }\n\n  /**\n   * A method invoked on a document `'contextmenu'` event.\n   *\n   * #### Notes\n   * The default implementation of this method opens the application\n   * `contextMenu` at the current mouse position.\n   *\n   * If the application context menu has no matching content *or* if\n   * the shift key is pressed, the default browser context menu will\n   * be opened instead.\n   *\n   * A subclass may reimplement this method as needed.\n   */\n  protected evtContextMenu(event: PointerEvent): void {\n    if (event.shiftKey) {\n      return;\n    }\n    if (this.contextMenu.open(event)) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  /**\n   * A method invoked on a window `'resize'` event.\n   *\n   * #### Notes\n   * The default implementation of this method updates the shell.\n   *\n   * A subclass may reimplement this method as needed.\n   */\n  protected evtResize(event: Event): void {\n    this.shell.update();\n  }\n\n  private _delegate = new PromiseDelegate<void>();\n  private _plugins = new Map<string, Private.IPluginData>();\n  private _services = new Map<Token<any>, string>();\n  private _started = false;\n  private _bubblingKeydown = false;\n}\n\n/**\n * The namespace for the `Application` class statics.\n */\nexport namespace Application {\n  /**\n   * An options object for creating an application.\n   */\n  export interface IOptions<T extends Widget> {\n    /**\n     * The shell widget to use for the application.\n     *\n     * This should be a newly created and initialized widget.\n     *\n     * The application will attach the widget to the DOM.\n     */\n    shell: T;\n\n    /**\n     * A custom renderer for the context menu.\n     */\n    contextMenuRenderer?: Menu.IRenderer;\n  }\n\n  /**\n   * An options object for application startup.\n   */\n  export interface IStartOptions {\n    /**\n     * The ID of the DOM node to host the application shell.\n     *\n     * #### Notes\n     * If this is not provided, the document body will be the host.\n     */\n    hostID?: string;\n\n    /**\n     * The plugins to activate on startup.\n     *\n     * #### Notes\n     * These will be *in addition* to any `autoStart` plugins.\n     */\n    startPlugins?: string[];\n\n    /**\n     * The plugins to **not** activate on startup.\n     *\n     * #### Notes\n     * This will override `startPlugins` and any `autoStart` plugins.\n     */\n    ignorePlugins?: string[];\n\n    /**\n     * Whether to capture keydown event at bubbling or capturing (default) phase for\n     * keyboard shortcuts.\n     *\n     * @experimental\n     */\n    bubblingKeydown?: boolean;\n  }\n}\n\n/**\n * The namespace for the module implementation details.\n */\nnamespace Private {\n  /**\n   * An object which holds the full application state for a plugin.\n   */\n  export interface IPluginData {\n    /**\n     * The human readable ID of the plugin.\n     */\n    readonly id: string;\n\n    /**\n     * The description of the plugin.\n     */\n    readonly description: string;\n\n    /**\n     * Whether the plugin should be activated on application start or waiting for being\n     * required. If the value is 'defer' then the plugin should be activated only after\n     * the application is started.\n     */\n    readonly autoStart: boolean | 'defer';\n\n    /**\n     * The types of required services for the plugin, or `[]`.\n     */\n    readonly requires: Token<any>[];\n\n    /**\n     * The types of optional services for the the plugin, or `[]`.\n     */\n    readonly optional: Token<any>[];\n\n    /**\n     * The type of service provided by the plugin, or `null`.\n     */\n    readonly provides: Token<any> | null;\n\n    /**\n     * The function which activates the plugin.\n     */\n    readonly activate: (app: Application, ...args: any[]) => any;\n\n    /**\n     * The optional function which deactivates the plugin.\n     */\n    readonly deactivate:\n      | ((app: Application, ...args: any[]) => void | Promise<void>)\n      | null;\n\n    /**\n     * Whether the plugin has been activated.\n     */\n    activated: boolean;\n\n    /**\n     * The resolved service for the plugin, or `null`.\n     */\n    service: any | null;\n\n    /**\n     * The pending resolver promise, or `null`.\n     */\n    promise: Promise<void> | null;\n  }\n\n  /**\n   * Create a normalized plugin data object for the given plugin.\n   */\n  export function createPluginData(plugin: IPlugin<any, any>): IPluginData {\n    return {\n      id: plugin.id,\n      description: plugin.description ?? '',\n      service: null,\n      promise: null,\n      activated: false,\n      activate: plugin.activate,\n      deactivate: plugin.deactivate ?? null,\n      provides: plugin.provides ?? null,\n      autoStart: plugin.autoStart ?? false,\n      requires: plugin.requires ? plugin.requires.slice() : [],\n      optional: plugin.optional ? plugin.optional.slice() : []\n    };\n  }\n\n  /**\n   * Ensure no cycle is present in the plugin resolution graph.\n   *\n   * If a cycle is detected, an error will be thrown.\n   */\n  export function ensureNoCycle(\n    plugin: IPluginData,\n    plugins: Map<string, IPluginData>,\n    services: Map<Token<any>, string>\n  ): void {\n    const dependencies = [...plugin.requires, ...plugin.optional];\n    const visit = (token: Token<any>): boolean => {\n      if (token === plugin.provides) {\n        return true;\n      }\n      const id = services.get(token);\n      if (!id) {\n        return false;\n      }\n      const visited = plugins.get(id)!;\n      const dependencies = [...visited.requires, ...visited.optional];\n      if (dependencies.length === 0) {\n        return false;\n      }\n      trace.push(id);\n      if (dependencies.some(visit)) {\n        return true;\n      }\n      trace.pop();\n      return false;\n    };\n\n    // Bail early if there cannot be a cycle.\n    if (!plugin.provides || dependencies.length === 0) {\n      return;\n    }\n\n    // Setup a stack to trace service resolution.\n    const trace = [plugin.id];\n\n    // Throw an exception if a cycle is present.\n    if (dependencies.some(visit)) {\n      throw new ReferenceError(`Cycle detected: ${trace.join(' -> ')}.`);\n    }\n  }\n\n  /**\n   * Find dependents in deactivation order.\n   *\n   * @param id - The ID of the plugin of interest.\n   *\n   * @param plugins - The map containing all plugins.\n   *\n   * @param services - The map containing all services.\n   *\n   * @returns A list of dependent plugin IDs in order of deactivation\n   *\n   * #### Notes\n   * The final item of the returned list is always the plugin of interest.\n   */\n  export function findDependents(\n    id: string,\n    plugins: Map<string, IPluginData>,\n    services: Map<Token<any>, string>\n  ): string[] {\n    const edges = new Array<[string, string]>();\n    const add = (id: string): void => {\n      const plugin = plugins.get(id)!;\n      // FIXME In the case of missing optional dependencies, we may consider\n      // deactivating and reactivating the plugin without the missing service.\n      const dependencies = [...plugin.requires, ...plugin.optional];\n      edges.push(\n        ...dependencies.reduce<[string, string][]>((acc, dep) => {\n          const service = services.get(dep);\n          if (service) {\n            // An edge is oriented from dependent to provider.\n            acc.push([id, service]);\n          }\n          return acc;\n        }, [])\n      );\n    };\n\n    for (const id of plugins.keys()) {\n      add(id);\n    }\n\n    // Filter edges\n    // - Get all packages that dependent on the package to be deactivated\n    const newEdges = edges.filter(edge => edge[1] === id);\n    let oldSize = 0;\n    while (newEdges.length > oldSize) {\n      const previousSize = newEdges.length;\n      // Get all packages that dependent on packages that will be deactivated\n      const packagesOfInterest = new Set(newEdges.map(edge => edge[0]));\n      for (const poi of packagesOfInterest) {\n        edges\n          .filter(edge => edge[1] === poi)\n          .forEach(edge => {\n            // We check it is not already included to deal with circular dependencies\n            if (!newEdges.includes(edge)) {\n              newEdges.push(edge);\n            }\n          });\n      }\n      oldSize = previousSize;\n    }\n\n    const sorted = topologicSort(newEdges);\n    const index = sorted.findIndex(candidate => candidate === id);\n\n    if (index === -1) {\n      return [id];\n    }\n\n    return sorted.slice(0, index + 1);\n  }\n\n  /**\n   * Collect the IDs of the plugins to activate on startup.\n   */\n  export function collectStartupPlugins(\n    plugins: Map<string, IPluginData>,\n    options: Application.IStartOptions\n  ): string[] {\n    // Create a set to hold the plugin IDs.\n    const collection = new Set<string>();\n\n    // Collect the auto-start (non deferred) plugins.\n    for (const id of plugins.keys()) {\n      if (plugins.get(id)!.autoStart === true) {\n        collection.add(id);\n      }\n    }\n\n    // Add the startup plugins.\n    if (options.startPlugins) {\n      for (const id of options.startPlugins) {\n        collection.add(id);\n      }\n    }\n\n    // Remove the ignored plugins.\n    if (options.ignorePlugins) {\n      for (const id of options.ignorePlugins) {\n        collection.delete(id);\n      }\n    }\n\n    // Return the collected startup plugins.\n    return Array.from(collection);\n  }\n}\n"],"names":["Private","PromiseDelegate","CommandRegistry","ContextMenu","Widget"],"mappings":"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"}