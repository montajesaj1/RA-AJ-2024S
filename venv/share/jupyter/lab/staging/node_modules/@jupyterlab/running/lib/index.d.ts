/**
 * @packageDocumentation
 * @module running
 */
import { ITranslator } from '@jupyterlab/translation';
import { IScore, LabIcon, ReactWidget, SidePanel, Toolbar } from '@jupyterlab/ui-components';
import { IStateDB } from '@jupyterlab/statedb';
import { Token } from '@lumino/coreutils';
import { IDisposable } from '@lumino/disposable';
import { Message } from '@lumino/messaging';
import { ISignal } from '@lumino/signaling';
import { Panel } from '@lumino/widgets';
import { ReactNode } from 'react';
/**
 * The running sessions managers token.
 */
export declare const IRunningSessionManagers: Token<IRunningSessionManagers>;
/**
 * The running sessions token.
 */
export declare const IRunningSessionSidebar: Token<IRunningSessionSidebar>;
/**
 * The running interface.
 */
export interface IRunningSessionManagers {
    /**
     * Add a running item manager.
     *
     * @param manager - The running item manager.
     *
     */
    add(manager: IRunningSessions.IManager): IDisposable;
    /**
     * Signal emitted when a new manager is added.
     */
    added: ISignal<IRunningSessionManagers, IRunningSessions.IManager>;
    /**
     * Return an array of managers.
     */
    items(): ReadonlyArray<IRunningSessions.IManager>;
}
export declare class RunningSessionManagers implements IRunningSessionManagers {
    /**
     * Signal emitted when a new manager is added.
     */
    get added(): ISignal<this, IRunningSessions.IManager>;
    /**
     * Add a running item manager.
     *
     * @param manager - The running item manager.
     *
     */
    add(manager: IRunningSessions.IManager): IDisposable;
    /**
     * Return an iterator of launcher items.
     */
    items(): ReadonlyArray<IRunningSessions.IManager>;
    private _added;
    private _managers;
}
interface IFilterProvider {
    filter(item: IRunningSessions.IRunningItem): Partial<IScore> | null;
    filterChanged: ISignal<IFilterProvider, void>;
}
declare class FilterWidget extends ReactWidget implements IFilterProvider {
    constructor(translator: ITranslator);
    get filterChanged(): ISignal<FilterWidget, void>;
    render(): JSX.Element;
    filter(item: IRunningSessions.IRunningItem): Partial<IScore> | null;
    private _getTextContent;
    private _updateFilter;
    private _filterFn;
    private _filterChanged;
    private _trans;
}
/**
 * The interface exposing the running sessions sidebar widget properties.
 */
export interface IRunningSessionSidebar {
    /**
     * The toolbar of the running sidebar.
     */
    readonly toolbar: Toolbar;
}
/**
 * A class that exposes the running terminal and kernel sessions.
 */
export declare class RunningSessions extends SidePanel implements IRunningSessionSidebar {
    /**
     * Construct a new running widget.
     */
    constructor(managers: IRunningSessionManagers, translator?: ITranslator, stateDB?: IStateDB | null);
    /**
     * Dispose the resources held by the widget
     */
    dispose(): void;
    /**
     * Add a section for a new manager.
     *
     * @param managers Managers
     * @param manager New manager
     */
    protected addSection(managers: unknown, manager: IRunningSessions.IManager): Promise<void>;
    /**
     * Update state database with the new state of a given section.
     */
    private _updateState;
    /**
     * Get current state from the state database.
     */
    private _getState;
    protected managers: IRunningSessionManagers;
    protected translator: ITranslator;
    private _stateDB;
}
/**
 * A panel intended for use within `Dialog` to allow searching tabs and running sessions.
 */
export declare class SearchableSessions extends Panel {
    constructor(managers: IRunningSessionManagers, translator?: ITranslator);
    /**
     * Dispose the resources held by the widget
     */
    dispose(): void;
    /**
     * Click active element when the user confirmed the choice in the dialog.
     */
    getValue(): void;
    /**
     * Handle incoming events.
     */
    handleEvent(event: Event): void;
    /**
     * A message handler invoked on an `'after-attach'` message.
     */
    protected onAfterAttach(_: Message): void;
    /**
     * A message handler invoked on an `'after-detach'` message.
     */
    protected onAfterDetach(_: Message): void;
    /**
     * Force focus on the filter input.
     *
     * Note: forces focus because this widget is intended to be used in `Dialog`,
     * which does not support focusing React widget nested within a non-React
     * widget (a limitation of `focusNodeSelector` option implementation).
     */
    private _forceFocusInput;
    /**
     * Navigate between items using up/down keys by shifting focus.
     */
    private _evtKeydown;
    /**
     * Set and mark active item relative to the current.
     *
     * Returns whether an active item was set.
     */
    private _updateActive;
    private _translator;
    private _filterWidget;
    private _activeIndex;
    private _list;
}
/**
 * A panel list of searchable sessions.
 */
export declare class SearchableSessionsList extends Panel {
    constructor(managers: IRunningSessionManagers, filterWidget: FilterWidget, translator?: ITranslator);
    /**
     * Dispose the resources held by the widget
     */
    dispose(): void;
    /**
     * Add a section for a new manager.
     *
     * @param managers Managers
     * @param manager New manager
     */
    protected addSection(managers: unknown, manager: IRunningSessions.IManager): void;
    private _managers;
    private _translator;
    private _emptyIndicator;
    private _filterWidget;
}
/**
 * The namespace for the `IRunningSessions` class statics.
 */
export declare namespace IRunningSessions {
    /**
     * A manager of running items grouped under a single section.
     */
    interface IManager {
        /**
         * Name that is shown to the user in plural.
         */
        name: string;
        /**
         * Called when the shutdown all button is pressed.
         */
        shutdownAll(): void;
        /**
         * List the running models.
         */
        running(): IRunningItem[];
        /**
         * Force a refresh of the running models.
         */
        refreshRunning(): void;
        /**
         * A signal that should be emitted when the item list has changed.
         */
        runningChanged: ISignal<any, any>;
        /**
         * A string used to describe the shutdown action.
         */
        shutdownLabel?: string | ((item: IRunningSessions.IRunningItem) => string);
        /**
         * A string used to describe the shutdown all action.
         */
        shutdownAllLabel?: string;
        /**
         * A string used as the body text in the shutdown all confirmation dialog.
         */
        shutdownAllConfirmationText?: string;
        /**
         * The icon to show for shutting down an individual item in this section.
         */
        shutdownItemIcon?: LabIcon;
    }
    /**
     * A running item.
     */
    interface IRunningItem {
        /**
         * Optional child nodes that belong to a top-level running item.
         */
        children?: IRunningItem[];
        /**
         * Optional CSS class name to add to the running item.
         */
        className?: string;
        /**
         * Optional context hint to add to the `data-context` attribute of an item.
         */
        context?: string;
        /**
         * Called when the running item is clicked.
         */
        open?: () => void;
        /**
         * Called when the shutdown button is pressed on a particular item.
         */
        shutdown?: () => void;
        /**
         * The `LabIcon` to use as the icon for the running item or the string
         * `src` URL.
         */
        icon: () => LabIcon | string;
        /**
         * Called to determine the label for each item.
         */
        label: () => ReactNode;
        /**
         * Called to determine the `title` attribute for each item, which is
         * revealed on hover.
         */
        labelTitle?: () => string;
        /**
         * Called to determine the `detail` attribute, which is shown optionally in
         * a column after the label.
         */
        detail?: () => string;
    }
}
export {};
